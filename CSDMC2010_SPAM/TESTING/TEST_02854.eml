X-Account-Key: account5
X-UIDL: GmailId12869bc78f30adf4
X-Mozilla-Status: 0000
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Delivered-To: mlsubscriber.tech@csmining.org
Received: by 10.142.81.20 with SMTP id e20cs346485wfb;
        Wed, 5 May 2010 11:31:19 -0700 (PDT)
Received: by 10.87.20.36 with SMTP id x36mr220198fgi.14.1273084279058;
        Wed, 05 May 2010 11:31:19 -0700 (PDT)
Return-Path: <bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org>
Received: from liszt.debian.org (liszt.debian.org [82.195.75.100])
        by mx.google.com with ESMTP id 35si274331fkt.37.2010.05.05.11.31.18;
        Wed, 05 May 2010 11:31:19 -0700 (PDT)
Received-SPF: pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) client-ip=82.195.75.100;
Authentication-Results: mx.google.com; spf=pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) smtp.mail=bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with QMQP
	id 77BD313A54FE; Wed,  5 May 2010 18:31:09 +0000 (UTC)
Old-Return-Path: <kevin@familyross.net>
XChecker-Version: SpamAssassin 3.2.5 (2008-06-10) on liszt.debian.org
XLevel: 
XStatus: No, score=-9.7 required=4.0 tests=LDOSUBSCRIBER,LDO_WHITELIST,
	RCVD_IN_SORBS_WEB,RDNS_NONE autolearn=failed version=3.2.5
X-Original-To: lists-debian-user@liszt.debian.org
Delivered-To: lists-debian-user@liszt.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with ESMTP id 857B413A54F8
	for <lists-debian-user@liszt.debian.org>; Wed,  5 May 2010 18:31:03 +0000 (UTC)
X-Virus-Scanned: at lists.debian.org with policy bank en-ht
X-AmavisStatus: No, score=-5.781 tagged_above=-10000 required=5.3
	tests=[BAYES_05=-1.5, LDO_WHITELIST=-5, RCVD_IN_SORBS_WEB=0.619,
	RDNS_NONE=0.1] autolearn=no
Received: from liszt.debian.org ([127.0.0.1])
	by localhost (lists.debian.org [127.0.0.1]) (amavisd-new, port 2525)
	with ESMTP id DGXWgljjViCY for <lists-debian-user@liszt.debian.org>;
	Wed,  5 May 2010 18:30:56 +0000 (UTC)
X-policyd-weight: using cached result; rate: -7
Received: from mail.familyross.net (unknown [74.82.57.38])
	by liszt.debian.org (Postfix) with ESMTP id 2996E13A54EE
	for <debian-user@lists.debian.org>; Wed,  5 May 2010 18:30:49 +0000 (UTC)
Received: from usseal3bkp9h (207-171-180-101.amazon.com [207.171.180.101])
	by mail.familyross.net (Postfix) with ESMTPSA id BA94E4289
	for <debian-user@lists.debian.org>; Wed,  5 May 2010 11:30:45 -0700 (PDT)
From: "Kevin Ross" <kevin@familyross.net>
To: <debian-user@lists.debian.org>
References: <p2m74aa57df1004282147of393249naa0b7b2f779aab24@mail.csmining.org>	 <h2r74aa57df1005020211oa5eac248r2c87741ddc851937@mail.csmining.org>	 <20100502104634.GA4413@ghost.local.lan>	 <015501caeaf1$5e206640$1a6132c0$@net>	 <u2m74aa57df1005032125g5207968ei47d8e7a405ad443c@mail.csmining.org>	 <01d401caebce$9ecb62c0$dc622840$@net>	 <s2s74aa57df1005042200t23c832fek7370c7b93e2e9f1@mail.csmining.org>	 <r2s74aa57df1005042201y265a0458j64e30ae47a69760a@mail.csmining.org>	 <4BE11EBC.6050206@familyross.net> <q2m74aa57df1005050107k2027cf00v470032429df2829d@mail.csmining.org>
In-Reply-To: <q2m74aa57df1005050107k2027cf00v470032429df2829d@mail.csmining.org>
Subject: RE: How to schedule for a repeated task?
Date: Wed, 5 May 2010 11:30:44 -0700
Message-ID: <023d01caec81$1393a560$3abaf020$@net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Mailer: Microsoft Office Outlook 12.0
thread-index: AcrsKhlBLf4KpG50TFyn4YZ9vwg/NAAVcquA
Content-Language: en-us
X-Rc-Virus: 2007-09-13_01
X-Rc-Spam: 2008-11-04_01
Resent-Message-ID: <DbD3rFMA71J.A.RQD.tlb4LB@liszt>
Resent-From: debian-user@lists.debian.org
X-Mailing-List: <debian-user@lists.debian.org> archive/latest/575920
X-Loop: debian-user@lists.debian.org
List-Id: <debian-user.lists.debian.org>
List-Post: <mailto:debian-user@lists.debian.org>
List-Help: <mailto:debian-user-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-user-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-user-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-user-request@lists.debian.org
Resent-Date: Wed,  5 May 2010 18:31:09 +0000 (UTC)

Please find below my simple expect telnet script :
/usr/bin/expect
>set name 172.16.17.160
>spawn telnet $name
>set cmd1 command1
>set cmd2 logout
>send "$cmd1"
>send "$cmd2"
>exit
When I try for this procedure , I just see loging in and loging out from the
telnet session . Actually , I need to have the output result of issuing
'command1' on the remote node to be captured on my local host . But when I
try manually , say telnet to it and issue the command , I see the output on
my screen . Please help me how to modify my simple code to have the desired
result?
Thank you
__________________________________________

It doesn't require a username or password?

I'm guessing it's sending the first command "command1" too soon, before the
command prompt appears, so the other end doesn't see it.  It only sees the
logout command.

Try adding:

expect "% "

or whatever the command prompt is, such as "$ " or "# " before sending the
commands.



-- 
To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org 
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org
Archive: http://lists.debian.org/023d01caec81$1393a560$3abaf020$@net


