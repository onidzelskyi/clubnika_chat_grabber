X-Account-Key: account5
X-UIDL: GmailId1287bef53c1fa98d
X-Mozilla-Status: 0000
X-Mozilla-Status2: 00000000
X-Mozilla-Keys:                                                                                 
Delivered-To: mlsubscriber.tech@csmining.org
Received: by 10.142.81.20 with SMTP id e20cs539846wfb;
        Sun, 9 May 2010 00:20:02 -0700 (PDT)
Received: by 10.223.51.152 with SMTP id d24mr2430823fag.36.1273389601345;
        Sun, 09 May 2010 00:20:01 -0700 (PDT)
Return-Path: <bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org>
Received: from liszt.debian.org (liszt.debian.org [82.195.75.100])
        by mx.google.com with ESMTP id h18si5614711fai.72.2010.05.09.00.20.00;
        Sun, 09 May 2010 00:20:01 -0700 (PDT)
Received-SPF: pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) client-ip=82.195.75.100;
Authentication-Results: mx.google.com; spf=pass (google.com: manual fallback record for domain of bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org designates 82.195.75.100 as permitted sender) smtp.mail=bounce-debian-user=mlsubscriber.tech=csmining.org@lists.debian.org; dkim=neutral (body hash did not verify) header.i=@csmining.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with QMQP
	id 3BB8513A5952; Sun,  9 May 2010 07:19:52 +0000 (UTC)
Old-Return-Path: <aspnair@csmining.org>
XChecker-Version: SpamAssassin 3.2.5 (2008-06-10) on liszt.debian.org
XLevel: 
XStatus: No, score=-7.9 required=4.0 tests=GMAIL,HTML_MESSAGE,
	IMPRONONCABLE_2,LDOSUBSCRIBER,LDO_WHITELIST autolearn=failed version=3.2.5
X-Original-To: lists-debian-user@liszt.debian.org
Delivered-To: lists-debian-user@liszt.debian.org
Received: from localhost (localhost [127.0.0.1])
	by liszt.debian.org (Postfix) with ESMTP id ACCB013A5932
	for <lists-debian-user@liszt.debian.org>; Sun,  9 May 2010 07:19:45 +0000 (UTC)
X-Virus-Scanned: at lists.debian.org with policy bank en-ht
X-AmavisStatus: No, score=-4 tagged_above=-10000 required=5.3
	tests=[BAYES_00=-2, GMAIL=1, HTML_MESSAGE=1, IMPRONONCABLE_2=1,
	LDO_WHITELIST=-5] autolearn=no
Received: from liszt.debian.org ([127.0.0.1])
	by localhost (lists.debian.org [127.0.0.1]) (amavisd-new, port 2525)
	with ESMTP id YheFE6YG2kxf for <lists-debian-user@liszt.debian.org>;
	Sun,  9 May 2010 07:19:38 +0000 (UTC)
X-policyd-weight: using cached result; rate: -6.9
Received: from mail-yw0-f202.google.com (mail-yw0-f202.google.com [209.85.211.202])
	by liszt.debian.org (Postfix) with ESMTP id 8620613A5923
	for <debian-user@lists.debian.org>; Sun,  9 May 2010 07:19:37 +0000 (UTC)
Received: by ywh40 with SMTP id 40so1258823ywh.18
        for <debian-user@lists.debian.org>; Sun, 09 May 2010 00:19:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=csmining.org; s=gamma;
        h=domainkey-signature:mime-version:received:received:in-reply-to
         :references:date:message-id:subject:from:to:cc:content-type;
        bh=cny6T4XhrjsOcruTzTz8kndHuLB+2Y/284mn0Fr5E3w=;
        b=w4aUEo6njSQa1P8nSTrfOUvulTaXLD7DijxQnB56rnYd5GD6QSVYOBRjpSdydFMXmP
         KMNzgk9OVLafMJ98T1L6clSPiUo/zqJIQilrEggVts/26yKx3Aiiw1rThNTE7Rpmb8dI
         Y+Lwl5twrydmYLsQURH9Pfujf7/Emk1IkouSQ=
DomainKey-Signature: a=rsa-sha1; c=nofws;
        d=csmining.org; s=gamma;
        h=mime-version:in-reply-to:references:date:message-id:subject:from:to
         :cc:content-type;
        b=G2CL77Rdaw1symNrkzRb68lo5aEb0k5MclUuRPTAonb9QCxt8TNQs2DAmpmhSj/j24
         ZqcPISNRDsXtEywesKdBKjVS6RPi2IwGhSLhRh1EgUkmtlyCsAnat91QLrmrp+VC8m65
         aSxcHcK9cg1tWDHyqFT6CpybhDbOGPT22NqaI=
MIME-Version: 1.0
Received: by 10.150.175.1 with SMTP id x1mr5862232ybe.165.1273389571014; Sun, 
	09 May 2010 00:19:31 -0700 (PDT)
Received: by 10.150.228.21 with HTTP; Sun, 9 May 2010 00:19:30 -0700 (PDT)
In-Reply-To: <20100509030342.8f65db26.celejar@csmining.org>
References: <20100509020815.653242ea.celejar@csmining.org>
	 <AANLkTiktpUjLW3jAV8ZHak6np-sgbi7fW8ak9u9rHoZy@mail.csmining.org>
	 <20100509030342.8f65db26.celejar@csmining.org>
Date: Sun, 9 May 2010 12:49:30 +0530
Message-ID: <AANLkTinnGHFq897Z6NcOTzMNENwrCeqKi6qPfOx_4YH0@mail.csmining.org>
Subject: Re: bandwidth measurement by process
From: Anand Sivaram <aspnair@csmining.org>
To: Celejar <celejar@csmining.org>
Cc: debian-user@lists.debian.org
Content-Type: multipart/alternative; boundary=000e0cd762200a7f7e0486241d2a
X-Rc-Virus: 2007-09-13_01
X-Rc-Spam: 2008-11-04_01
Resent-Message-ID: <-u1toXrK5r.A.rsG.YIm5LB@liszt>
Resent-From: debian-user@lists.debian.org
X-Mailing-List: <debian-user@lists.debian.org> archive/latest/576261
X-Loop: debian-user@lists.debian.org
List-Id: <debian-user.lists.debian.org>
List-Post: <mailto:debian-user@lists.debian.org>
List-Help: <mailto:debian-user-request@lists.debian.org?subject=help>
List-Subscribe: <mailto:debian-user-request@lists.debian.org?subject=subscribe>
List-Unsubscribe: <mailto:debian-user-request@lists.debian.org?subject=unsubscribe>
Precedence: list
Resent-Sender: debian-user-request@lists.debian.org
Resent-Date: Sun,  9 May 2010 07:19:52 +0000 (UTC)

--000e0cd762200a7f7e0486241d2a
Content-Type: text/plain; charset=ISO-8859-1

On Sun, May 9, 2010 at 12:33, Celejar <celejar@csmining.org> wrote:

> On Sun, 9 May 2010 12:15:49 +0530
> Anand Sivaram <aspnair@csmining.org> wrote:
>
> > On Sun, May 9, 2010 at 11:38, Celejar <celejar@csmining.org> wrote:
> >
> > > Hi,
> > >
> > > I'm looking for a tool that will measure bandwidth used by a specific
> > > process. I'd like some sort of utility or wrapper that will answer
> > > questions like "How much data did my network backup job push over the
> > > wire?"
>
> ...
>
> >  nethogs is unique in that manner, as per their website itself.
> > http://nethogs.sourceforge.net/
> > see section "Links" in their website
> >
> > Most of the other tools give rate per tcp/udp sessions based on port
> numbers
> > and remote address information.
> > So you may not find any other program to take care of this.  I think it
> is
> > doable with a few hundred lines of code.
> > This is what is required to be done.
> > * /proc/<pid>/fd look for the socket inode numbers
> > * correlate those inode numbers in /proc/net/tcp and /proc/net/udp to
> find
> > the
> >    source and destination ip and port details
> > * use libpcap to open the interface and capture the packet, from this you
> > could get the packet length, rate etc of each tcp, udp session
> > Combining the above, it is possible to get what you need.
>
> Yeah, that's pretty much what I thought.  Well, I think that I'm going
> to code something like this, unless someone else will point out that
> it's already been done.
>
> I'm actually surprised that such a tool doesn't exist.  Isn't this
> something quite useful?  Aren't the sorts of questions that I want
> answered pretty universal and important?
>
> Celejar
> --
> foffl.sourceforge.net - Feeds OFFLine, an offline RSS/Atom aggregator
> mailmin.sourceforge.net - remote access via secure (OpenPGP) email
> ssuds.sourceforge.net - A Simple Sudoku Solver and Generator
>
>
> --
> To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org
> with a subject of "unsubscribe". Trouble? Contact
> listmaster@lists.debian.org
> Archive: http://lists.debian.org/20100509030342.8f65db26.celejar@csmining.org
>
>
Many of the programs are created when a potential developer felt that he/she
requires such a program, but his/her requirement is not met by the existing
programs.  Now you are feeling that your requirement is not fulfilled and
you are planning to get something of your own :)
Your plan is really good, I could provide any help, in case you require any.

--000e0cd762200a7f7e0486241d2a
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

<br><br><div class=3D"gmail_quote">On Sun, May 9, 2010 at 12:33, Celejar <s=
pan dir=3D"ltr">&lt;<a href=3D"mailto:celejar@csmining.org">celejar@csmining.org<=
/a>&gt;</span> wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:=
0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;">
<div class=3D"im">On Sun, 9 May 2010 12:15:49 +0530<br>
Anand Sivaram &lt;<a href=3D"mailto:aspnair@csmining.org">aspnair@csmining.org</a=
>&gt; wrote:<br>
<br>
&gt; On Sun, May 9, 2010 at 11:38, Celejar &lt;<a href=3D"mailto:celejar@gm=
ail.com">celejar@csmining.org</a>&gt; wrote:<br>
&gt;<br>
&gt; &gt; Hi,<br>
&gt; &gt;<br>
&gt; &gt; I&#39;m looking for a tool that will measure bandwidth used by a =
specific<br>
&gt; &gt; process. I&#39;d like some sort of utility or wrapper that will a=
nswer<br>
&gt; &gt; questions like &quot;How much data did my network backup job push=
 over the<br>
&gt; &gt; wire?&quot;<br>
<br>
</div>...<br>
<div class=3D"im"><br>
&gt; =A0nethogs is unique in that manner, as per their website itself.<br>
&gt; <a href=3D"http://nethogs.sourceforge.net/" target=3D"_blank">http://n=
ethogs.sourceforge.net/</a><br>
&gt; see section &quot;Links&quot; in their website<br>
&gt;<br>
&gt; Most of the other tools give rate per tcp/udp sessions based on port n=
umbers<br>
&gt; and remote address information.<br>
&gt; So you may not find any other program to take care of this. =A0I think=
 it is<br>
&gt; doable with a few hundred lines of code.<br>
&gt; This is what is required to be done.<br>
&gt; * /proc/&lt;pid&gt;/fd look for the socket inode numbers<br>
&gt; * correlate those inode numbers in /proc/net/tcp and /proc/net/udp to =
find<br>
&gt; the<br>
&gt; =A0 =A0source and destination ip and port details<br>
&gt; * use libpcap to open the interface and capture the packet, from this =
you<br>
&gt; could get the packet length, rate etc of each tcp, udp session<br>
&gt; Combining the above, it is possible to get what you need.<br>
<br>
</div>Yeah, that&#39;s pretty much what I thought. =A0Well, I think that I&=
#39;m going<br>
to code something like this, unless someone else will point out that<br>
it&#39;s already been done.<br>
<br>
I&#39;m actually surprised that such a tool doesn&#39;t exist. =A0Isn&#39;t=
 this<br>
something quite useful? =A0Aren&#39;t the sorts of questions that I want<br=
>
answered pretty universal and important?<br>
<div class=3D"im"><br>
Celejar<br>
--<br>
<a href=3D"http://foffl.sourceforge.net" target=3D"_blank">foffl.sourceforg=
e.net</a> - Feeds OFFLine, an offline RSS/Atom aggregator<br>
<a href=3D"http://mailmin.sourceforge.net" target=3D"_blank">mailmin.source=
forge.net</a> - remote access via secure (OpenPGP) email<br>
<a href=3D"http://ssuds.sourceforge.net" target=3D"_blank">ssuds.sourceforg=
e.net</a> - A Simple Sudoku Solver and Generator<br>
<br>
<br>
--<br>
To UNSUBSCRIBE, email to <a href=3D"mailto:debian-user-REQUEST@lists.debian=
.org">debian-user-REQUEST@lists.debian.org</a><br>
with a subject of &quot;unsubscribe&quot;. Trouble? Contact <a href=3D"mail=
to:listmaster@lists.debian.org">listmaster@lists.debian.org</a><br>
</div>Archive: <a href=3D"http://lists.debian.org/20100509030342.8f65db26.c=
elejar@csmining.org" target=3D"_blank">http://lists.debian.org/20100509030342.=
8f65db26.celejar@csmining.org</a><br>
<br>
</blockquote></div><br><div>Many of the programs are created when a potenti=
al developer felt that he/she requires such a program, but his/her requirem=
ent is not met by the existing programs. =A0Now you are feeling that your r=
equirement is not fulfilled and you are planning to get something of your o=
wn :)</div>
<div>Your plan is really good, I could provide any help, in case you requir=
e any.</div><div><br></div><div><br></div>

--000e0cd762200a7f7e0486241d2a--


-- 
To UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org 
with a subject of "unsubscribe". Trouble? Contact listmaster@lists.debian.org
Archive: http://lists.debian.org/AANLkTinnGHFq897Z6NcOTzMNENwrCeqKi6qPfOx_4YH0@mail.csmining.org


